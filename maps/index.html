<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>

    <script id="googleapiimport" src="http://maps.google.com/maps?file=api&amp;v=2"
            type="text/javascript"></script>
    <script type="text/javascript">


	lon = "40.71213418976525";
	lat = "-73.96785736083984";
	name = "waipoint";
	description = "Una descripcion mas a ver que hace";
	sym = "City";  

waypoint1 = Array (lon,lat,name,description,sym);
	lon = "12.71213418976525";
	lat = "-7.96785736083984";
	name = "waipoint2";
	description = "Una descripcion cualquiera";
	sym = "City";  
waypoint2 = Array (lon,lat,name,description,sym);
waypointList = Array (waypoint1,waypoint2);
 

    //<![CDATA[
	function createMarker(point, text) {
  		var marker = new GMarker(point);
  		GEvent.addListener(marker, "click", function() {
    			marker.openInfoWindowHtml(text);
  			});
  		return marker;
		}

	function changeWaypoint(waypointslist) {
		w = waypointList[waypointslist.selectedIndex];
		lon = w[0];
		lat = w[1];
		map.panTo(new GLatLng(lon, lat));
		}
			

	function load() {
		if (GBrowserIsCompatible()) {
			map = new GMap2(document.getElementById("map"));
        		map.addControl(new GLargeMapControl());
        		map.addControl(new GMapTypeControl());
        		map.setCenter(new GLatLng(lon, lat), 11);
  		
			for (i=0; i<2; i++){
				lon = waypointList[i][0];
				lat = waypointList[i][1];
				name = waypointList[i][2];
				tag = "<b>"+waypointList[i][2]+"</b><br/>"+waypointList[i][3];
				point = new GLatLng(lon,lat);
  				map.addOverlay(createMarker(point, tag));
				myNewOption = new Option(name,i);
				document.theForm.waypointslist.options[i] = myNewOption;
				}	
      			}
    		}	

    //]]>
    </script>
  </head>
  <body onload="load()" onunload="GUnload()">
	<table >
	<tr><td width="100">
		<form name="theForm">
		<select size="27" style="width:150px" id="waypointslist" name="waypointslist" onchange="changeWaypoint(this.form.waypointslist)">
		</select>
		<input type="submit" value="New Waipoint" style="width:150px"/><br/>
		<input type="submit" value="Del Waipoint" style="width:150px"/><br/>
		<input type="submit" value="Edit Waipoint" style="width:150px"/><br/>
		</form>
	</td><td>
    		<div id="map" style="width: 620px; height: 535px"></div>
	</td></tr>
	</table >
  </body>
</html>
