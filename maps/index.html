<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>

    <script id="googleapiimport" src="http://maps.google.com/maps?file=api&amp;v=2"
            type="text/javascript"></script>
    <script type="text/javascript">

	cadVariables = location.search.substring(1,location.search.length);
	arrVariables = cadVariables.split("&");
	for (i=0; i<arrVariables.length; i++) {
		arrVariableActual = arrVariables[i].split("=");
		if (isNaN(parseFloat(arrVariableActual[1])))
			eval(arrVariableActual[0]+"='"+unescape(arrVariableActual[1])+"';");
		else
			eval(arrVariableActual[0]+"="+arrVariableActual[1]+";");
		}


    //<![CDATA[
	function load() {
		if (GBrowserIsCompatible()) {
        		var map = new GMap2(document.getElementById("map"));
        		map.addControl(new GLargeMapControl());
        		map.addControl(new GMapTypeControl());
        		map.setCenter(new GLatLng(40.71213418976525, -73.96785736083984), 11);

        		// Add an encoded polyline.
			var encodedPoints = points
			var encodedPoints = levels
			
			alert (points);	
			alert (levels);
 
        		var encodedPolyline = new GPolyline.fromEncoded({
				color: "#3333cc",
				weight: 10,
				points: encodedPoints,
				levels: encodedLevels,
				zoomFactor: 32,
				numLevels: 4
				});
			map.addOverlay(encodedPolyline);
      			}
    		}	

    //]]>
    </script>
  </head>
  <body onload="load()" onunload="GUnload()">
    <div id="map" style="width: 820px; height: 540px"></div>
  </body>
</html>
